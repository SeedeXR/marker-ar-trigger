<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Marker AR Trigger Experiment">
    <title>Marker AR Trigger</title>
    <!-- importing styles sheet -->
    <link rel="stylesheet" href="css/styles.css">
    <!-- importing scripts -->
     <!-- importing A-Frame Script -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <!--  importing arjs version without NFT but with marker + location based support -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <!-- importing anime js -->
    <script src="js/anime.min.js"></script>
</head>
<body>
    <!-- loader div block -->
    <div class="arjs-loader">
        <div> </div>
     </div>
    <a-scene embedded arjs>
      <a-marker type='pattern' url="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/SeedeXR/marker-ar-trigger/main/pattern-amanirenas-less-1000px.patt" size="0.1355">
        <a-entity
          position="0 0 0"
          scale="0.05 0.05 0.05"
          gltf-model="https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/SeedeXR/marker-ar-trigger/main/assets/3dAsset/amanirenas-a.glb"
        ></a-entity>
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>
    <!-- script to animate the loader -->
    <script>
        const loader = document.querySelector('.arjs-loader');
        const loaderText = document.querySelector('.arjs-loader div');
        const text = 'Powered by SeedeXR | AR Experience Loading ... Please Wait !!';
    
        anime.timeline({ loop: false })
            .add({
                targets: loaderText,
                opacity: 1,
                easing: "easeInOutQuad",
                duration: 500
            })
            .add({
                targets: loaderText,
                opacity: 1,
                duration: 100,
                update: function(anim) {
                    loaderText.innerHTML = text.slice(0, Math.round(text.length * anim.progress / 100));
                },
            });
    
        document.querySelector('a-scene').addEventListener('arReady', function() {
            loader.style.display = 'none'; // Hide the loader
        });
    </script>
</body>
</html>